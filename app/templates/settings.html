{% extends "base/dashboard_base.html" %}
{% block title %}Settings â€“ propER{% endblock %}
{% block main_content %}

<div style="max-width:700px;margin:0 left;">
    <h2 style="font-size:2rem;font-weight:800;margin-bottom:10px;">Settings</h2>
    <div style="font-size:1.04rem;color:#7e8a97;margin-bottom:18px;">
        Manage your account and application preferences.
    </div>

    {% if message %}
    <div style="padding:12px 14px; background:#e6fff2; border-radius:8px; color:#189570; margin-bottom:18px; font-weight:600;">
        {{ message }}
    </div>
    {% endif %}

    <form method="post" style="background:#fff;border-radius:14px;padding:2.2rem 2rem;box-shadow:0 6px 32px #4361ee11;">
        <!-- Name -->
        <div style="margin-bottom:18px;">
            <label style="font-weight:600;color:#333;">Name</label>
            <input type="text" name="name" value="{{ user_name }}" class="form-control"
                   style="width:100%;padding:12px 13px;margin-top:7px;border-radius:8px;border:1.4px solid #e4eafb;">
        </div>
        <!-- Email -->
        <div style="margin-bottom:18px;">
            <label style="font-weight:600;color:#333;">Email</label>
            <input type="email" name="email" value="{{ user_email or '' }}" class="form-control"
                   style="width:100%;padding:12px 13px;margin-top:7px;border-radius:8px;border:1.4px solid #e4eafb;">
        </div>
        <!-- Phone -->
        <div style="margin-bottom:18px;">
            <label style="font-weight:600;color:#333;">Phone</label>
            <input type="text" name="phone" value="{{ user_phone or '' }}" class="form-control"
                   style="width:100%;padding:12px 13px;margin-top:7px;border-radius:8px;border:1.4px solid #e4eafb;">
        </div>
        <!-- Role: Only editable by admin -->
        <div style="margin-bottom:18px;">
            <label style="font-weight:600;color:#333;">Role</label>
            {% if editable_role %}
                <select name="role" class="form-control" style="width:100%;padding:12px 13px;margin-top:7px;border-radius:8px;border:1.4px solid #e4eafb;">
                    <option value="admin" {% if user_role == "admin" %}selected{% endif %}>Admin</option>
                    <option value="leader" {% if user_role == "leader" %}selected{% endif %}>Leader</option>
                    <option value="agent" {% if user_role == "agent" %}selected{% endif %}>Agent</option>
                </select>
            {% else %}
                <input type="text" name="role" value="{{ user_role or '' }}" class="form-control"
                       style="width:100%;padding:12px 13px;margin-top:7px;border-radius:8px;border:1.4px solid #e4eafb;" readonly>
            {% endif %}
        </div>
        <!-- Notifications Toggle -->
        <div style="margin-bottom:18px;">
            <label style="font-weight:600;color:#333;">Email Notifications</label>
            <div style="margin-top:8px;">
                <input type="checkbox" name="notifications" id="notifications"
                    {% if notifications %}checked{% endif %}>
                <label for="notifications" style="margin-left:7px;">Receive updates & notifications by email</label>
            </div>
        </div>
        <!-- Change Password (just a placeholder for now) -->
        <div style="margin-bottom:26px;">
            <label style="font-weight:600;color:#333;">Change Password</label>
            <input type="password" name="new_password" placeholder="New password" class="form-control"
                   style="width:100%;padding:12px 13px;margin-top:7px;border-radius:8px;border:1.4px solid #e4eafb;">
        </div>
        <button type="submit" class="action-btn btn-success" style="font-size:1.1rem;padding:11px 30px;">Save Changes</button>
    </form>
</div>
{% endblock %}
