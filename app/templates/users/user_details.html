<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User Details â€“ propER</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    body {background:#f7f8fd;font-family:'Poppins',Arial,sans-serif;margin:0;padding:0;}
    .detail-card {max-width:720px;margin:60px auto;background:#fff;border-radius:18px;box-shadow:0 10px 36px #4361ee14,0 2px 8px #e9ecef33;padding:48px 50px 40px;}
    .title {font-size:2.2rem;color:#4361ee;font-weight:800;margin-bottom:30px;text-align:center;}
    .logo {width:54px;display:block;margin:0 auto 20px;}
    .field-grid {display:grid;grid-template-columns:1fr 1fr;gap:20px 30px;}
    .field-group {display:flex;flex-direction:column;}
    .field-label {font-weight:600;color:#7c82a1;margin-bottom:6px;font-size:0.95rem;}
    .field-box {padding:12px;border-radius:8px;background:#f5f7ff;border:1px solid #dce3f0;color:#222;font-size:1.07rem;}
    .role-badge {border-radius:8px;padding:4px 14px;font-weight:600;font-size:1rem;display:inline-block;}
    .role-admin {background:#f72585;color:#fff;}
    .role-leader {background:#4895ef;color:#fff;}
    .role-agent {background:#4cc9f0;color:#222;}
    .actions {display:flex;justify-content:center;gap:14px;margin-top:30px;}
    .btn {border:none;border-radius:8px;padding:12px 30px;font-size:1rem;font-weight:600;cursor:pointer;text-decoration:none;background:#e9ecef;color:#4361ee;transition:.2s;}
    .btn-primary {background:#4895ef;color:#fff;}
    .btn-danger {background:#fa5252;color:#fff;}
    .btn:hover {opacity:.88;}
    @media(max-width:720px){.field-grid{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <div class="detail-card">
    <img src="{{ url_for('static', filename='logo_left.png') }}" class="logo" alt="Logo">
    <div class="title"><i class="fas fa-user-circle"></i> User Details</div>
    <div class="field-grid">
      <div class="field-group"><label class="field-label"><i class="fas fa-user"></i> Name</label><div class="field-box">{{ user['name'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-envelope"></i> Email</label><div class="field-box">{{ user['email'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-layer-group"></i> Team</label><div class="field-box">{{ user['team'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-phone"></i> Phone</label><div class="field-box">{{ user['phone'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-id-card"></i> Role</label>
        <div class="field-box">
          {% if user['role'] == "Admin" %}
            <span class="role-badge role-admin">Admin</span>
          {% elif user['role'] == "Leader" %}
            <span class="role-badge role-leader">Leader</span>
          {% else %}
            <span class="role-badge role-agent">{{ user['role'] }}</span>
          {% endif %}
        </div>
      </div>
      <div class="field-group"><label class="field-label"><i class="fas fa-briefcase"></i> Position</label><div class="field-box">{{ user['position'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-id-badge"></i> REN Number</label><div class="field-box">{{ user['ren_no'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-percentage"></i> Tiering %</label><div class="field-box">{{ user['tiering_pct'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-credit-card"></i> NRIC</label><div class="field-box">{{ user['nric'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-sticky-note"></i> Notes</label><div class="field-box">{{ user['notes'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-toggle-on"></i> Status</label><div class="field-box">{{ user['status'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-user-plus"></i> Added By (User ID)</label><div class="field-box">{{ user['added_by'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-calendar-check"></i> Last Login</label><div class="field-box">{{ user['last_login'] or '-' }}</div></div>
      <div class="field-group"><label class="field-label"><i class="fas fa-calendar-plus"></i> Created At</label><div class="field-box">{{ user['created_at'] or '-' }}</div></div>
    </div>
    <div class="actions">
      <a href="{{ url_for('users.pending_requests') }}" class="btn"><i class="fas fa-arrow-left"></i> Back</a>
      <a href="{{ url_for('edit_user', user_id=user['user_id']) }}" class="btn btn-primary"><i class="fas fa-pen"></i> Edit</a>
      {% if user['role'] != "Admin" %}
      <form action="{{ url_for('remove_user', user_id=user['user_id']) }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure you want to remove this user?');">
        <button type="submit" class="btn btn-danger"><i class="fas fa-trash"></i> Delete</button>
      </form>
      {% endif %}
    </div>
  </div>
</body>
</html>