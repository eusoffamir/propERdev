{% extends "base/dashboard_base.html" %}
{% block main_content %}
<div style="margin-bottom:2.4rem;"><div style="font-size:2.2rem;font-weight:800;margin-bottom:0.25rem;">Add New Case</div><div style="font-size:1.06rem;color:#7e8a97;">Register a new case. Only the basics are required!</div></div>

<form action="{{ url_for('cases.add') }}" method="post" style="background:#fff;border-radius:24px;box-shadow:0 6px 32px #4361ee11,0 1.5px 8px #70b4ff13;padding:2.6rem 2.4rem 2.2rem 2.4rem;margin:0 auto;max-width:600px;">
  <div style="display:grid;grid-template-columns:1fr;gap:24px;align-items:center;">
    <div>
      <label for="client_name" style="font-weight:600;color:#333;">Client Name <span style='color:#e74c3c;'>*</span></label>
      <input type="text" id="client_name" name="client_name" required placeholder="e.g. John Doe" style="width:100%;padding:12px 15px;border-radius:9px;border:1.5px solid #e4eafb;background:#f6f9fd;margin-top:7px;font-size:1.08rem;">
    </div>
    <div>
      <label for="property_address" style="font-weight:600;color:#333;">Property Address <span style='color:#e74c3c;'>*</span></label>
      <input type="text" id="property_address" name="property_address" required placeholder="e.g. 123 Main St, KL" style="width:100%;padding:12px 15px;border-radius:9px;border:1.5px solid #e4eafb;background:#f6f9fd;margin-top:7px;font-size:1.08rem;">
    </div>
    <div>
      <label for="net_price" style="font-weight:600;color:#333;">Net Price (RM) <span style='color:#e74c3c;'>*</span></label>
      <input type="number" id="net_price" name="net_price" step="0.01" required placeholder="e.g. 500000" style="width:100%;padding:12px 15px;border-radius:9px;border:1.5px solid #e4eafb;background:#f6f9fd;margin-top:7px;font-size:1.08rem;">
    </div>
    <div>
      <label for="date_created" style="font-weight:600;color:#333;">Date Created <span style='color:#e74c3c;'>*</span></label>
      <input type="date" id="date_created" name="date_created" required style="width:100%;padding:12px 15px;border-radius:9px;border:1.5px solid #e4eafb;background:#f6f9fd;margin-top:7px;font-size:1.08rem;">
    </div>
    <div>
      <label for="status" style="font-weight:600;color:#333;">Status <span style='color:#e74c3c;'>*</span></label>
      <select id="status" name="status" required style="width:100%;padding:12px 15px;border-radius:9px;border:1.5px solid #e4eafb;background:#f6f9fd;margin-top:7px;font-size:1.08rem;">
        <option value="SETTLE">SETTLE</option>
        <option value="KIV">KIV</option>
        <option value="CANCEL">CANCEL</option>
      </select>
    </div>
    <div style="margin-top:10px;">
      <button type="button" onclick="document.getElementById('more-details').style.display = (document.getElementById('more-details').style.display === 'none' ? 'block' : 'none');this.innerText = this.innerText === 'Show More Details' ? 'Hide More Details' : 'Show More Details';" class="btn btn-secondary" style="padding:8px 18px;font-size:1rem;border-radius:7px;">Show More Details</button>
    </div>
    <div id="more-details" style="display:none;margin-top:10px;background:#f8faff;padding:24px 18px 12px 18px;border-radius:12px;">
      <div style="font-weight:700;color:#4361ee;margin-bottom:18px;font-size:1.1rem;">Optional Details</div>
      <div style="display:flex;flex-direction:column;gap:18px;">
        <div style="font-weight:600;color:#333;margin-bottom:2px;">People</div>
        <div style="display:grid;grid-template-columns:1fr;gap:10px;">
          <div><label for="agent_name" style="font-weight:500;color:#333;">Agent Name</label><input type="text" id="agent_name" name="agent_name" value="{{ agent_name }}" readonly style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#f6f9fd;margin-top:3px;font-size:0.98rem;color:#888;"></div>
          <div><label for="leader_name" style="font-weight:500;color:#333;">Leader Name</label><input type="text" id="leader_name" name="leader_name" value="{{ leader_name }}" readonly style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#f6f9fd;margin-top:3px;font-size:0.98rem;color:#888;"></div>
        </div>
        <div style="font-weight:600;color:#333;margin:12px 0 2px 0;">Case Info</div>
        <div style="display:grid;grid-template-columns:1fr;gap:10px;">
          <div><label for="case_no" style="font-weight:500;color:#333;">Case No</label><input type="text" id="case_no" name="case_no" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="invoice_no" style="font-weight:500;color:#333;">Invoice No</label><input type="text" id="invoice_no" name="invoice_no" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="eform_id" style="font-weight:500;color:#333;">E-Form ID <span style='color:#aaa;font-weight:400;'>(if any)</span></label><input type="text" id="eform_id" name="eform_id" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="description" style="font-weight:500;color:#333;">Description <span style='color:#aaa;font-weight:400;'>(optional)</span></label><input type="text" id="description" name="description" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="case_details" style="font-weight:500;color:#333;">Case Details <span style='color:#aaa;font-weight:400;'>(optional)</span></label><textarea id="case_details" name="case_details" rows="2" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></textarea></div>
        </div>
        <div style="font-weight:600;color:#333;margin:12px 0 2px 0;">Financial</div>
        <div style="display:grid;grid-template-columns:1fr;gap:10px;">
          <div><label for="fee_pct" style="font-weight:500;color:#333;">Fee % <span style='color:#aaa;font-weight:400;'>(if applicable)</span></label><input type="number" id="fee_pct" name="fee_pct" step="0.01" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="commission_pct" style="font-weight:500;color:#333;">Commission % <span style='color:#aaa;font-weight:400;'>(if applicable)</span></label><input type="number" id="commission_pct" name="commission_pct" step="0.01" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="total_commission" style="font-weight:500;color:#333;">Total Commission (RM)</label><input type="number" id="total_commission" name="total_commission" step="0.01" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="tax" style="font-weight:500;color:#333;">Tax (RM)</label><input type="number" id="tax" name="tax" step="0.01" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
          <div><label for="total_amount" style="font-weight:500;color:#333;">Total Amount (RM)</label><input type="number" id="total_amount" name="total_amount" step="0.01" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
        </div>
        <div style="font-weight:600;color:#333;margin:12px 0 2px 0;">Other</div>
        <div style="display:grid;grid-template-columns:1fr;gap:10px;">
          <div><label for="payment_status" style="font-weight:500;color:#333;">Payment Status <span style='color:#aaa;font-weight:400;'>(optional)</span></label><input type="text" id="payment_status" name="payment_status" style="width:100%;padding:8px 10px;border-radius:7px;border:1.2px solid #e4eafb;background:#fff;margin-top:3px;font-size:0.98rem;"></div>
        </div>
      </div>
    </div>
    <div style="text-align:right;margin-top:18px;"><button type="submit" class="action-btn btn-success" style="font-size:1.2rem;padding:13px 40px;margin-top:13px;">Add Case</button></div>
  </div>
</form>
{% endblock %}